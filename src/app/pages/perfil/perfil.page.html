<ion-header class="ion-no-border"  translucent>
  <ion-toolbar [color]="color">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title class="ion-text-capitalize">Mi cuenta</ion-title>
    <ion-avatar slot="end">
      <img src="assets/logo-toolbar.png" />
    </ion-avatar>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- <ion-item>
    <ion-label>
      <p>Hola</p>
      <h2>{{userPerfil.name}} {{userPerfil.lastName}}</h2>
    </ion-label>
    <ion-thumbnail  slot="end">
      <img *ngIf="userPerfil.foto" [src]="userPerfil.foto" >
      <img *ngIf="!userPerfil.foto" src="https://image.flaticon.com/icons/svg/163/163801.svg" alt="">
    </ion-thumbnail >
  </ion-item> -->
    <div class="vertical-padding">
      
        <ion-grid fixed>
          <ion-row>
            <ion-col size="8" class="ion-no-padding position-relative">
              <div class="ion-text-left">
                <p>Hola</p>
                <h4>{{userPerfil.name}} {{userPerfil.lastName}}</h4>
              </div>
              <!-- <div class="ion-text-center">
                <span class="text-muted ion-no-margin text-job ion-text-capitalize">{{userPerfil.role}}</span>
              </div> -->
              <!-- <ion-button fill="clear" class="button-vertical-align button-left">
                <ion-icon slot="icon-only" name="chatbubbles"></ion-icon>
              </ion-button> -->
            </ion-col>
            <ion-col size="4">   
              <img *ngIf="userPerfil.foto" [src]="userPerfil.foto" class="image-round border-tertiary margin-top">
              <img *ngIf="!userPerfil.foto" src="https://image.flaticon.com/icons/svg/163/163801.svg" alt="" class="image-round border-tertiary margin-top">
            </ion-col>
            <!-- <ion-col size="4" class="ion-no-padding position-relative">
              <ion-button fill="clear" class="button-vertical-align button-right">
                <ion-icon slot="icon-only" name="call"></ion-icon>
              </ion-button> 
            </ion-col> -->
          </ion-row>
        </ion-grid>
      
      </div>
      <ion-grid fixed>
        <ion-row class="ion-no-padding" id="menuPerfil" *ngIf="_user.dataUser.role === 'conversador'">
          <ion-col size="3">
            <!-- <div class="ion-text-center" (click)="editarPerfil()"> -->
            <div class="ion-text-center" routerLink="/perfil-options">
              <ion-icon slot="start" name="person-circle-outline"></ion-icon> <br>
              <small>Editar</small>
            </div>
          </ion-col>
          <ion-col size="3">
            <div class="ion-text-center" routerLink="/calls">
              <ion-icon slot="start" name="call-outline"></ion-icon> <br>
              <small>Llamadas</small>
            </div>
          </ion-col>
          <ion-col size="3">
            <div class="ion-text-center" routerLink="/commissions">
              <ion-icon slot="start" name="wallet-outline"></ion-icon> <br>
              <small>Comisiones</small>
            </div>
          </ion-col>
          <ion-col size="3">
            <div class="ion-text-center" routerLink="/ayuda">
              <ion-icon slot="start" name="help-buoy-outline"></ion-icon> <br>
              <small>Ayuda</small>
            </div>
          </ion-col>
        </ion-row>
        <ion-row class="ion-no-padding" id="menuPerfilImp" *ngIf="_user.dataUser.role === 'cliente'">
          <ion-col size="3">
            <!-- <div class="ion-text-center" (click)="editarPerfil()"> -->
            <div class="ion-text-center" routerLink="/perfil-options">
              <ion-icon slot="start" name="person-circle-outline"></ion-icon> <br>
              <small>Editar</small>
            </div>
          </ion-col>
          <ion-col size="3">
            <div class="ion-text-center" routerLink="/plans">
              <ion-icon slot="start" name="reader-outline"></ion-icon> <br>
              <small>Planes</small>
            </div>
          </ion-col>
          <ion-col size="3">
            <div class="ion-text-center" routerLink="/wallet">
              <ion-icon slot="start" name="wallet-outline"></ion-icon> <br>
              <small>Wallet</small>
            </div>
          </ion-col>
          <ion-col size="3">
            <div class="ion-text-center" routerLink="/ayuda">
              <ion-icon slot="start" name="help-buoy-outline"></ion-icon> <br>
              <small>Ayuda</small>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
 
    
      <div class="vertical-padding" *ngIf="_user.dataUser.role === 'cliente'">
        <p class="ion-text-center text-profile">
          {{userPerfil.bio}}
        </p>
      </div>
    
      <div class="ion-padding">
        <ion-grid class="ion-no-padding" *ngIf="_user.dataUser.role === 'conversador'">
          <ion-row>
            <ion-col size="6">
              <strong class="text-tertiary">Género</strong> <br>
              <small class="text-white">{{userPerfil.gender}}</small>
            </ion-col>
            <ion-col size="6">
              <strong class="text-tertiary">Email</strong> <br>
              <small class="text-white">{{userPerfil.email}}</small>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="6">
              <strong class="text-tertiary">Teléfono</strong> <br>
              <small class="text-white">{{userPerfil.phone}}</small>
            </ion-col>
            <ion-col size="6">
              <strong class="text-tertiary">Pais</strong> <br>
              <small class="text-white">México</small>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="6">
              <strong class="text-tertiary">Cumpleaños</strong> <br>
              <small class="text-white">{{userPerfil.birthDtate | date: 'dd-MMMM-YYYY'}}</small>
            </ion-col>
            <ion-col size="6">
              <strong class="text-tertiary">SPEI</strong> <br>
              <small class="text-white">{{userPerfil.spei}}</small>
            </ion-col>
          </ion-row>
        </ion-grid>
        <ion-grid class="ion-no-padding" *ngIf="_user.dataUser.role === 'cliente'">
          <ion-row>
            <ion-col size="6">
              <strong class="text-primary">Género</strong> <br>
              <small >{{userPerfil.gender}}</small>
            </ion-col>
            <ion-col size="6">
              <strong class="text-primary">Email</strong> <br>
              <small >{{userPerfil.email}}</small>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="6">
              <strong class="text-primary">Teléfono</strong> <br>
              <small >{{userPerfil.phone}}</small>
            </ion-col>
            <ion-col size="6">
              <strong class="text-primary">Pais</strong> <br>
              <small ><span class="ion-text-uppercase">{{userPerfil.country}}</span> <span class="iti-flag {{userPerfil.country}}"></span></small>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="6">
              <strong class="text-primary">Cumpleaños</strong> <br>
              <small >{{userPerfil.birthDtate | date: 'dd-MMMM-YYYY'}}</small>
            </ion-col>
            <ion-col size="6">
              <!-- <strong class="text-tertiary">SPEI</strong> <br>
              <small class="text-white">{{userPerfil.spei}}</small> -->
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>

      <div class="ion-padding">
        <ion-row *ngIf="!userPerfil.spei">
            <ion-col size="12">
                <form [formGroup]="speiForm" (ngSubmit)="agregaSpei()" novalidate>
                    <ion-item>
                        <ion-label position="floating">SPEI <ion-text color="danger">*</ion-text></ion-label>
                        <ion-input [formControl]="$any(speiForm).controls.spei" name="spei" type="text"></ion-input>
                    </ion-item>
    
                    <ion-button block color="primary" type="submit" [disabled]="speiForm.invalid">
                        Agregar
                    </ion-button>
                </form>
            </ion-col>
        </ion-row>
      </div>

      

    
      <ion-fab vertical="top" horizontal="end" slot="fixed">
        <ion-fab-button [color]="color" size="small">
          <ion-icon name="settings-outline"></ion-icon>
        </ion-fab-button>
        <ion-fab-list side="start">
          <!-- <ion-fab-button color="naranja" (click)="editarPerfil()">
            <ion-icon  name="person-add-outline"></ion-icon>
          </ion-fab-button> -->
          <ion-fab-button [color]="color" (click)="subirImgPerfil()">
            <ion-icon  name="camera-outline"></ion-icon>
            <input type="file" style="display: none;" #filePicker (change)="subirAlbum($event)">
          </ion-fab-button>
        </ion-fab-list>
      </ion-fab>
</ion-content>


